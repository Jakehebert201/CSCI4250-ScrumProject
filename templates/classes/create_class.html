<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Class | Student Location Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="layout">
    <header class="page-header">
        <a class="brand" href="{{ url_for('main.landing_page') }}">Student Location Tracker</a>
        <nav class="page-nav">
            <a href="{{ url_for('main.professor_dashboard') }}" class="nav__item">Dashboard</a>
            <a href="{{ url_for('classes.list_classes') }}" class="nav__item">My Classes</a>
            <a href="{{ url_for('main.database') }}" class="nav__item">Database</a>
            <a href="{{ url_for('auth.logout') }}" class="nav__item">Log Out</a>
        </nav>
    </header>
    
    <main class="login">
        <section class="login__panel" style="max-width: 600px;">
            <h1>Create New Class</h1>
            <p class="login__subtitle">Set up a new course for students to enroll in.</p>
            
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div style="margin: 1rem 0;">
                        {% for message in messages %}
                            <p style="color: red; margin: 0.5rem 0;">{{ message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <form class="login__form" method="post" style="gap: 1.5rem;">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

                <!-- Basic Information -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="course_code">Course Code *</label>
                        <input id="course_code" name="course_code" placeholder="CSCI 4250" required>
                    </div>
                    <div>
                        <label for="section">Section</label>
                        <input id="section" name="section" placeholder="001">
                    </div>
                </div>

                <div>
                    <label for="course_name">Course Name *</label>
                    <input id="course_name" name="course_name" placeholder="Software Engineering" required>
                </div>

                <div>
                    <label for="description">Description</label>
                    <textarea id="description" name="description" rows="3" 
                              placeholder="Brief description of the course content and objectives..."
                              style="resize: vertical; font-family: inherit; padding: 0.75rem; border-radius: 10px; border: 1px solid rgba(30, 30, 36, 0.2);"></textarea>
                </div>

                <!-- Semester and Capacity -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="semester">Semester *</label>
                        <select id="semester" name="semester" required>
                            <option value="">Select Semester</option>
                            <option value="Spring">Spring</option>
                            <option value="Summer">Summer</option>
                            <option value="Fall">Fall</option>
                            <option value="Winter">Winter</option>
                        </select>
                    </div>
                    <div>
                        <label for="year">Year *</label>
                        <input id="year" name="year" type="number" value="2025" min="2024" max="2030" required>
                    </div>
                    <div>
                        <label for="credits">Credits</label>
                        <input id="credits" name="credits" type="number" value="3" min="1" max="6">
                    </div>
                </div>

                <!-- Schedule Information -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="meeting_days">Meeting Days</label>
                        <select id="meeting_days" name="meeting_days">
                            <option value="">Select Days</option>
                            <option value="MWF">Monday, Wednesday, Friday</option>
                            <option value="TTH">Tuesday, Thursday</option>
                            <option value="MW">Monday, Wednesday</option>
                            <option value="TH">Thursday</option>
                            <option value="F">Friday</option>
                            <option value="MTWTHF">Monday - Friday</option>
                        </select>
                    </div>
                    <div>
                        <label for="start_time">Start Time</label>
                        <input id="start_time" name="start_time" type="time">
                    </div>
                    <div>
                        <label for="end_time">End Time</label>
                        <input id="end_time" name="end_time" type="time">
                    </div>
                </div>

                <!-- Location and Dates -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="room">Room</label>
                        <input id="room" name="room" placeholder="Room 101">
                    </div>
                    <div>
                        <label for="capacity">Class Capacity</label>
                        <input id="capacity" name="capacity" type="number" value="30" min="1" max="200">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="start_date">Start Date</label>
                        <input id="start_date" name="start_date" type="date">
                    </div>
                    <div>
                        <label for="end_date">End Date</label>
                        <input id="end_date" name="end_date" type="date">
                    </div>
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                    <button type="submit" class="btn btn--primary" style="flex: 1;">
                        ✅ Create Class
                    </button>
                    <a href="{{ url_for('classes.list_classes') }}" class="btn btn--secondary">
                        ❌ Cancel
                    </a>
                </div>
            </form>
        </section>
    </main>
    
    <footer class="footer">
        <small>&copy; 2025 Student Tracker. Built with Flask.</small>
    </footer>
    <script src="{{ url_for('static', filename='js/theme-toggle.js') }}"></script>
</body>
</html>
